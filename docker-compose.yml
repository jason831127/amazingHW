version: "2"
services:
  api: 
    image: amazingTalkerHW
    container_name: "api"
    command: bash -c "npm install && npm run start-dev-api"
    build: .
    ports:
      - "1337:1337"
    volumes:
      - .:/usr/src/app
    links:
      - redis
      - myDb
  mydb:
    container_name: "mydb"
    build: ./build/docker/db/
    environment: 
      MYSQL_USER: "db_user"
      MYSQL_PASSWORD: "test1234"
      MYSQL_ROOT_PASSWORD: "test1234"
      MYSQL_DATABASE: "mydb"
    ports:
      - "3308:3306"